from ..client import Client
from time import sleep

def cmd(client):
    cmd = ''
    while cmd != 'exit':
        sleep(2)
        cmd = input('$ ')
        if cmd:
            client.get_stdin_queue().put(cmd)
            sleep(10)
            print('>>', client.get_stdout_queue().get())
            
    print("Exit ...")
            
def shell_main(clients, client_list_lock):
    print("HI")
    while True:
        sleep(2)
        for name,client in clients.items():
            print("Targetname: "+name)
            cmd(client)
        
